# ğŸ” é—®é¢˜åˆ†ææŠ¥å‘Š

## é—®é¢˜æ¦‚è¿°

**æ—¶é—´**: 2025-10-21 10:11  
**ä¸¥é‡ç¨‹åº¦**: ğŸ”´ é«˜å±

---

## é—®é¢˜1: é¡µé¢æ–‡ä»¶ä¸¢å¤± âŒ

### é”™è¯¯ä¿¡æ¯
```
pages/index/index not found
Failed to resolve import "./pages/index/index.vue"
```

### æ ¹æœ¬åŸå› 
- âŒ æ ¸å¿ƒæ–‡ä»¶ `pages/index/index.vue` è¢«æ„å¤–åˆ é™¤
- æ–‡ä»¶å¤¹å­˜åœ¨ä½†å†…å®¹ä¸ºç©º
- Git çŠ¶æ€æ˜¾ç¤ºä¸º `deleted`

### è§£å†³æ–¹æ¡ˆ âœ…
```bash
git restore pages/index/index.vue
```

**ç»“æœ**: æ–‡ä»¶å·²æˆåŠŸæ¢å¤

---

## é—®é¢˜2: iOSæ„å»ºä»ç„¶æŠ¥é”™ âš ï¸

### é”™è¯¯ä¿¡æ¯
```
Invalid value "iife" for option "output.format" - 
UMD and IIFE output formats are not supported for code-splitting builds.
```

### åˆ†æ

è™½ç„¶æˆ‘ä»¬å·²ç»åœ¨ `vite.config.js` ä¸­æ·»åŠ äº†ï¼š
```javascript
build: {
  cssCodeSplit: false,
  rollupOptions: {
    output: {
      manualChunks: undefined,
      inlineDynamicImports: true,  // â† åº”è¯¥è§£å†³é—®é¢˜
    }
  }
}
```

**ä½†é—®é¢˜ä¾ç„¶å­˜åœ¨ï¼Œå¯èƒ½åŸå› **ï¼š

1. **UniApp æ„å»ºç³»ç»Ÿè¦†ç›–äº†é…ç½®**
   - UniApp çš„ `@dcloudio/vite-plugin-uni` å¯èƒ½æœ‰è‡ªå·±çš„æ„å»ºé…ç½®
   - å®ƒå¯èƒ½å¼ºåˆ¶ä½¿ç”¨ `iife` æ ¼å¼

2. **éœ€è¦åœ¨ UniApp å±‚é¢é…ç½®**
   - å¯èƒ½éœ€è¦åœ¨ `manifest.json` ä¸­é…ç½®
   - æˆ–è€…éœ€è¦ä½¿ç”¨ HBuilderX çš„äº‘æ‰“åŒ…è€Œä¸æ˜¯å‘½ä»¤è¡Œ

3. **ä¾èµ–ç‰ˆæœ¬ä¸å…¼å®¹**
   - Vite ç‰ˆæœ¬å’Œ UniApp æ’ä»¶ç‰ˆæœ¬å¯èƒ½ä¸åŒ¹é…

---

## æ ¹æœ¬è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ HBuilderX äº‘æ‰“åŒ…ï¼ˆæ¨èï¼‰âœ…

**åŸå› **ï¼š
- HBuilderX æœ‰å®Œæ•´çš„æ„å»ºç¯å¢ƒ
- äº‘ç«¯æ„å»ºä¸å—æœ¬åœ° Vite é…ç½®å½±å“
- å®˜æ–¹æ¨èæ–¹å¼

**æ­¥éª¤**ï¼š
1. æ‰“å¼€ HBuilderX
2. æ–‡ä»¶ â†’ æ‰“å¼€ç›®å½• â†’ é€‰æ‹©é¡¹ç›®
3. è¿è¡Œ â†’ å‘è¡Œ â†’ åŸç”ŸApp-äº‘æ‰“åŒ… â†’ iOS
4. ç­‰å¾…äº‘ç«¯æ„å»ºå®Œæˆ

### æ–¹æ¡ˆäºŒï¼šæœ¬åœ°æ‰“åŒ…ï¼ˆéœ€è¦Mac + Xcodeï¼‰

**æ­¥éª¤**ï¼š
1. åœ¨ HBuilderX ä¸­
2. è¿è¡Œ â†’ å‘è¡Œ â†’ åŸç”ŸApp-æœ¬åœ°æ‰“åŒ… â†’ iOS
3. ç”Ÿæˆ Xcode é¡¹ç›®
4. ä½¿ç”¨ Xcode æ‰“å¼€å¹¶æ„å»º

### æ–¹æ¡ˆä¸‰ï¼šä¿®æ”¹æ„å»ºé…ç½®ï¼ˆå®éªŒæ€§ï¼‰âš ï¸

åœ¨ `manifest.json` ä¸­æ·»åŠ  App æ„å»ºé…ç½®ï¼š

```json
{
  "app-plus": {
    "compatible": {
      "ignoreVersion": true
    },
    "runmode": "liberate",
    "nvueCompiler": "uni-app",
    "compilerVersion": 3,
    "optimization": {
      "subPackages": false
    }
  }
}
```

---

## å½“å‰é¡¹ç›®çŠ¶æ€

### Git æäº¤å†å²
```
c0b0fac ğŸ”§ å½»åº•ä¿®å¤iOSæ„å»ºé…ç½®
0fdef5c ğŸ”§ å®Œå–„é¡¹ç›®é…ç½®
89d421c ğŸ”§ ä¿®å¤iOS Appæ„å»ºé—®é¢˜
ec500cb ğŸ“ æ·»åŠ å¤‡ä»½è¯´æ˜æ–‡æ¡£
f246e2b âœ¨ å®Œæˆæ ¸å¿ƒåŠŸèƒ½ä¼˜åŒ–
```

### æ–‡ä»¶çŠ¶æ€
- âœ… `pages/index/index.vue` - å·²æ¢å¤
- âœ… `vite.config.js` - å·²ä¼˜åŒ–
- âœ… `package.json` - å·²å®Œå–„
- âœ… `jsconfig.json` - å·²ä¿®å¤

---

## å»ºè®®è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ âœ…

1. **éªŒè¯æ–‡ä»¶æ¢å¤**
   ```bash
   npm run dev:h5
   ```
   ç¡®è®¤ H5 å¼€å‘ç¯å¢ƒæ­£å¸¸è¿è¡Œ

2. **ä½¿ç”¨ HBuilderX æ„å»º iOS**
   - ä¸è¦ä½¿ç”¨å‘½ä»¤è¡Œ `npm run build:app`
   - ä½¿ç”¨ HBuilderX çš„å›¾å½¢ç•Œé¢
   - é€‰æ‹©äº‘æ‰“åŒ…æ–¹å¼

3. **å¤‡ä»½ä»£ç **
   ```bash
   git add .
   git commit -m "æ¢å¤é¡µé¢æ–‡ä»¶"
   ```

### é•¿æœŸä¼˜åŒ–

1. **æ·»åŠ æ–‡ä»¶ä¿æŠ¤**
   - å®šæœŸ Git æäº¤
   - ä½¿ç”¨ `.gitignore` ä¿æŠ¤é‡è¦æ–‡ä»¶

2. **æ ‡å‡†åŒ–æ„å»ºæµç¨‹**
   - ç»Ÿä¸€ä½¿ç”¨ HBuilderX è¿›è¡Œ App æ„å»º
   - H5 å¼€å‘ä½¿ç”¨å‘½ä»¤è¡Œ `npm run dev:h5`
   - å°ç¨‹åºä½¿ç”¨ HBuilderX æˆ– `uni -p mp-weixin`

3. **ç›‘æ§ä¾èµ–ç‰ˆæœ¬**
   - å®šæœŸæ›´æ–° UniApp ç›¸å…³ä¾èµ–
   - ä¿æŒ Vite ç‰ˆæœ¬å…¼å®¹æ€§

---

## æŠ€æœ¯ç¬”è®°

### ä¸ºä»€ä¹ˆå‘½ä»¤è¡Œæ„å»ºä¼šå¤±è´¥ï¼Ÿ

UniApp çš„ App å¹³å°æ„å»ºæ¯”è¾ƒç‰¹æ®Šï¼š

1. **éœ€è¦åŸç”ŸåŸºåº§**
   - iOS App éœ€è¦ iOS SDK
   - éœ€è¦ç­¾åå’Œè¯ä¹¦
   - æœ¬åœ°ç¯å¢ƒå¾ˆéš¾æ»¡è¶³

2. **æ„å»ºæµç¨‹å¤æ‚**
   - Vue â†’ UniApp â†’ åŸç”Ÿä»£ç 
   - å¤šå±‚è½¬æ¢å’Œä¼˜åŒ–
   - HBuilderX æœ‰å®Œæ•´å·¥å…·é“¾

3. **Vite é…ç½®é™åˆ¶**
   - UniApp æ’ä»¶ä¼šè¦†ç›–éƒ¨åˆ† Vite é…ç½®
   - `iife` æ ¼å¼æ˜¯ App å¹³å°å¿…éœ€çš„
   - æ— æ³•é€šè¿‡ç®€å•é…ç½®ç»•è¿‡

### æœ€ä½³å®è·µ

| å¹³å° | å¼€å‘ | æ„å»º |
|------|------|------|
| **H5** | `npm run dev:h5` | `npm run build:h5` |
| **App** | HBuilderX çœŸæœºè°ƒè¯• | HBuilderX äº‘æ‰“åŒ… |
| **å°ç¨‹åº** | HBuilderX æˆ–å‘½ä»¤è¡Œ | HBuilderX äº‘æ‰“åŒ… |

---

## ç»“è®º

1. âœ… **é¡µé¢æ–‡ä»¶å·²æ¢å¤** - ç«‹å³å¯ç”¨
2. âš ï¸ **iOSæ„å»ºé—®é¢˜éœ€è¦ç”¨ HBuilderX** - å‘½ä»¤è¡Œä¸é€‚åˆ
3. ğŸ¯ **å»ºè®®ä½¿ç”¨å®˜æ–¹å·¥å…·é“¾** - å‡å°‘é…ç½®é—®é¢˜

---

**ä¸‹ä¸€æ­¥**: ä½¿ç”¨ HBuilderX è¿›è¡Œ iOS äº‘æ‰“åŒ… ğŸš€

